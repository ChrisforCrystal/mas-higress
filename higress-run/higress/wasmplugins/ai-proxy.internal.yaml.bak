apiVersion: extensions.higress.io/v1alpha1
kind: WasmPlugin
metadata:
  annotations:
    higress.io/comment: PLEASE DO NOT EDIT DIRECTLY. This resource is managed by Higress.
    higress.io/wasm-plugin-title: AI Proxy
  creationTimestamp: null
  labels:
    higress.io/internal: "true"
    higress.io/resource-definer: higress
    higress.io/wasm-plugin-built-in: "true"
    higress.io/wasm-plugin-category: ai
    higress.io/wasm-plugin-name: ai-proxy
    higress.io/wasm-plugin-version: 1.0.0
  managedFields:
  - apiVersion: extensions.higress.io/v1alpha1
    fieldsType: FieldsV1
    fieldsV1:
      f:metadata:
        f:annotations:
          f:higress.io/comment: {}
        f:labels:
          f:higress.io/internal: {}
      f:spec:
        f:defaultConfig:
          f:providers: {}
        f:matchRules: {}
    manager: Kubernetes Java Client
    operation: Update
    time: "2026-02-11T06:51:21Z"
  name: ai-proxy.internal
  namespace: higress-system
  resourceVersion: "5"
spec:
  defaultConfig:
    providers:
    - apiTokens:
      - sk-4a07f77e1ba84b5fbc24d2074127224b
      failover:
        enabled: false
      id: aliyun
      qwenEnableCompatible: false
      qwenEnableSearch: false
      qwenFileIds: []
      retryOnFailure:
        enabled: false
      type: qwen
    - apiTokens:
      - YOUR_DEEPSEEK_API_KEY
      id: deepseek
      type: deepseek
    - apiTokens:
      - YOUR_MOONSHOT_API_KEY
      id: moonshot
      type: moonshot
    - apiTokens:
      - YOUR_ZHIPUAI_API_KEY
      id: zhipuai
      type: zhipuai
    - apiTokens:
      - sk-cp-bWgyVZc-g6oYib6m-Fct6u8pMU5aY5q4UEKmZeB8PaQ40x0WCT4U73roayrgbiryu3cezEPMGSSpst8bon7USN6ODz9DrGAJ7M-i37hSj3AVa8jlkupUVXw
      failover:
        enabled: false
      id: minimax
      retryOnFailure:
        enabled: false
      type: minimax
    - apiTokens:
      - YOUR_AZURE_API_KEY
      azureServiceUrl: https://YOUR_RESOURCE_NAME.openai.azure.com/openai/deployments/YOUR_DEPLOYMENT_NAME/chat/completions?api-version=2024-06-01
      id: azure
      type: azure
    - apiTokens:
      - YOUR_OPENAI_API_KEY
      id: openai
      type: openai
    - apiTokens:
      - YOUR_YI_API_KEY
      id: yi
      type: yi
    - apiTokens:
      - YOUR_AI360_API_KEY
      id: ai360
      type: ai360
    - apiTokens:
      - YOUR_BAICHUAN_API_KEY
      id: baichuan
      type: baichuan
    - apiTokens:
      - YOUR_BAIDU_API_KEY
      id: baidu
      type: baidu
    - apiTokens:
      - YOUR_CLAUDE_API_KEY
      claudeVersion: "2023-06-01"
      id: claude
      type: claude
    - apiTokens:
      - YOUR_COHERE_API_KEY
      id: cohere
      type: cohere
    - apiTokens:
      - YOUR_DOUBAO_API_KEY
      id: doubao
      type: doubao
    - apiTokens:
      - YOUR_GEMINI_API_KEY
      id: gemini
      type: gemini
    - apiTokens:
      - YOUR_MISTRAL_API_KEY
      id: mistral
      type: mistral
    - apiTokens:
      - YOUR_OLLAMA_API_KEY
      id: ollama
      ollamaServerHost: YOUR_OLLAMA_SERVER_HOST
      ollamaServerPort: 11434
      type: ollama
    - apiTokens:
      - YOUR_STEPFUN_API_KEY
      id: stepfun
      type: stepfun
  defaultConfigDisable: false
  failStrategy: FAIL_OPEN
  matchRules:
  - config:
      activeProviderId: ai360
    configDisable: false
    service:
    - llm-ai360.internal.dns
  - config:
      activeProviderId: aliyun
    configDisable: false
    service:
    - llm-aliyun.internal.dns
  - config:
      activeProviderId: azure
    configDisable: false
    service:
    - llm-azure.internal.dns
  - config:
      activeProviderId: baichuan
    configDisable: false
    service:
    - llm-baichuan.internal.dns
  - config:
      activeProviderId: baidu
    configDisable: false
    service:
    - llm-baidu.internal.dns
  - config:
      activeProviderId: claude
    configDisable: false
    service:
    - llm-claude.internal.dns
  - config:
      activeProviderId: cohere
    configDisable: false
    service:
    - llm-cohere.internal.dns
  - config:
      activeProviderId: deepseek
    configDisable: false
    service:
    - llm-deepseek.internal.dns
  - config:
      activeProviderId: doubao
    configDisable: false
    service:
    - llm-doubao.internal.dns
  - config:
      activeProviderId: gemini
    configDisable: false
    service:
    - llm-gemini.internal.dns
  - config:
      activeProviderId: minimax
    configDisable: false
    service:
    - llm-minimax.internal.dns
  - config:
      activeProviderId: mistral
    configDisable: false
    service:
    - llm-mistral.internal.dns
  - config:
      activeProviderId: moonshot
    configDisable: false
    service:
    - llm-moonshot.internal.dns
  - config:
      activeProviderId: ollama
    configDisable: false
    service:
    - llm-ollama.internal.dns
  - config:
      activeProviderId: openai
    configDisable: false
    service:
    - llm-openai.internal.dns
  - config:
      activeProviderId: stepfun
    configDisable: false
    service:
    - llm-stepfun.internal.dns
  - config:
      activeProviderId: yi
    configDisable: false
    service:
    - llm-yi.internal.dns
  - config:
      activeProviderId: zhipuai
    configDisable: false
    service:
    - llm-zhipuai.internal.dns
  priority: 100
  url: oci://higress-registry.cn-hangzhou.cr.aliyuncs.com/plugins/ai-proxy:2.0.0
status: {}
